<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
 <title>탄핵집회 By. Juminchurch</title>
<style>
  body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    padding: 20px;
  }
  .container {
    max-width: 600px;
    margin: 0 auto;
  }
  .title {
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
  }
  .kakao-buttons {
    display: flex;
    gap: 15px;
    margin-top: 15px;
  }
  .kakao-button {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    background-color: #FEE500;
    border-radius: 4px;
    padding: 8px 12px;
    border: none;
  }
  .talk-icon {
    width: 24px;
    height: 24px;
    margin-right: 8px;
  }
  .error-message {
    color: red;
    margin-top: 10px;
    display: none;
    font-size: 14px;
  }
  .preview-image {
    max-width: 250px;
    margin-top: 20px;
  }
</style>
</head>
<body>
<div class="container">
  <!-- 제목은 한 번만 표시 -->
  <div class="title">탄핵집회 By. jumin-church</div>
  
  <!-- 썸네일 미리보기 -->
  <img src="https://img1.daumcdn.net/thumb/R300x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbfMzCG%2FbtsM0qjcsjy%2FDz2EZ4Xkd5vNKfFPbFPq81%2Fimg.jpg" alt="jumin_tanhek">
 
  
  <!-- 카카오톡 버튼들 -->
  <div class="kakao-buttons">
    <button class="kakao-button" onclick="sendDefaultLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 공유" class="talk-icon">
      기본 공유하기
    </button>
    
    <button class="kakao-button" onclick="sendTemplateLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 템플릿 공유" class="talk-icon">
      템플릿 공유하기
    </button>
  </div>
  
  <!-- 오류 메시지 표시 영역 -->
  <div id="error-message" class="error-message"></div>
</div>

<!-- Kakao SDK를 body 끝부분에 로드 -->
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js" 
      integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4" 
      crossorigin="anonymous"></script>

<script type="text/javascript">
  // 티켓 URL 상수 정의
  const TICKET_URL_27 = 'https://xn--4k0b511c91f.kr/33/?q=YToxOntzOjEyOiJrZXl3b3JkX3R5cGUiO3M6MzoiYWxsIjt9&bmode=view&idx=159813956&t=board';
  const TICKET_URL_28 = 'http://www.jumin.org/home.htm';
  
  // 이미지 URL - 명시적으로 500x800 크기 지정
  const IMAGE_URL = 'https://xn--4k0회',
            link: {
              mobileWebUrl: TICKET_URL_28,
              webUrl: TICKET_URL_28
            }
          }
        ]
      });
    } catch (e) {
      showError('기본 공유하기 실패: ' + e.message);
    }
  }
  
  // 템플릿 공유하기 함수
  async function sendTemplateLink() {
    try {
      await initKakao();
      
      Kakao.Share.sendCustom({
        templateId: TEMPLATE_ID,
        templateArgs: {
          'title': "윤석열 탄핵! 주민교회 광화문 집회",
          'description': '3월29일 토요일 오후 4시/광화문 정문',
          'imageUrl': IMAGE_URL,
          'ticket_url_27': TICKET_URL_27,
          'ticket_url_28': TICKET_URL_28
        }
      });
    } catch (e) {
      showError('템플릿 공유하기 실패: ' + e.message);
    }
  }

  // 페이지 로드 시 Kakao SDK 초기화
  window.addEventListener('load', () => {
    initKakao().catch(e => {
      showError(e.message);
    });
  });
</script>
</body>
</html>
