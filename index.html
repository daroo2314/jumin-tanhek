<!--<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
 <title>탄핵집회 By. Juminchurch</title>
<style>
  body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    padding: 20px;
  }
  .container {
    max-width: 600px;
    margin: 0 auto;
  }
  .title {
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
  }
  .kakao-buttons {
    display: flex;
    gap: 15px;
    margin-top: 15px;
  }
  .kakao-button {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    background-color: #FEE500;
    border-radius: 4px;
    padding: 8px 12px;
    border: none;
  }
  .talk-icon {
    width: 24px;
    height: 24px;
    margin-right: 8px;
  }
  .error-message {
    color: red;
    margin-top: 10px;
    display: none;
    font-size: 14px;
  }
  .preview-image {
    max-width: 250px;
    margin-top: 20px;
  }
</style>
</head>
<body>
<div class="container">
  <!-- 제목은 한 번만 표시 -->
  <div class="title">탄핵집회 By. jumin-church</div>
  
  <!-- 썸네일 미리보기 -->
  <img src="https://img1.daumcdn.net/thumb/R300x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbfMzCG%2FbtsM0qjcsjy%2FDz2EZ4Xkd5vNKfFPbFPq81%2Fimg.jpg" alt="jumin_tanhek">
 
  
  <!-- 카카오톡 버튼들 -->
  <div class="kakao-buttons">
    <button class="kakao-button" onclick="sendDefaultLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 공유" class="talk-icon">
      기본 공유하기
    </button>
    
    <button class="kakao-button" onclick="sendTemplateLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 템플릿 공유" class="talk-icon">
      템플릿 공유하기
    </button>
  </div>
  
  <!-- 오류 메시지 표시 영역 -->
  <div id="error-message" class="error-message"></div>
</div>

<!-- Kakao SDK를 body 끝부분에 로드 -->
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js" 
      integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4" 
      crossorigin="anonymous"></script>

<script type="text/javascript">
   // 티켓 URL 상수 정의
   const TICKET_URL_27 = 'http://www.jumin.org/home.htm';
   const TICKET_URL_28 = 'https://xn--4k0b511c91f.kr/33/?q=YToxOntzOjEyOiJrZXl3b3JkX3R5cGUiO3M6MzoiYWxsIjt9&bmode=view&idx=159813956&t=board';
  
    // 이미지 URL - 명시적으로 500x800 크기 지정
   const IMAGE_URL = 'https://img1.daumcdn.net/thumb/R500x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbfMzCG%2FbtsM0qjcsjy%2FDz2EZ4Xkd5vNKfFPbFPq81%2Fimg.jpg',
  
  // 템플릿 ID
  const TEMPLATE_ID = 118864;
  
  // 에러 표시 함수
  function showError(message) {
    const errorElement = document.getElementById('error-message');
    if (errorElement) {
      errorElement.innerText = message;
      errorElement.style.display = 'block';
    }
    console.error('에러:', message);
  }
  
  // Kakao SDK 초기화 함수 - 한 번만 실행되도록 보장
  let kakaoInitialized = false;
  
  function initKakao() {
    if (kakaoInitialized) return true;
    
    try {
      if (!Kakao) {
        showError('Kakao SDK가 로드되지 않았습니다.');
        return false;
      }
      
      // 이미 초기화되었는지 확인
      if (Kakao.isInitialized()) {
        kakaoInitialized = true;
        return true;
      }
      
      // 초기화
      Kakao.init('b68d497748f94d3ed4e2a34ccf4bd43c');
      kakaoInitialized = Kakao.isInitialized();
      
      if (!kakaoInitialized) {
        showError('Kakao SDK 초기화에 실패했습니다.');
        return false;
      }
      
      return true;
    } catch (e) {
      showError('Kakao SDK 초기화 중 오류 발생: ' + e.message);
      return false;
    }
  }
  
  // 기본 공유하기 함수
  function sendDefaultLink() {
    if (!initKakao()) return;
    
    try {
      Kakao.Share.sendDefault({
        objectType: 'feed',
        content: {
          'title': "윤석열 탄핵기원 주민교회 광화문 집회",
          'description': '3월29일 토요일 오후 4시/광화문 정문',
          imageUrl: IMAGE_URL,
          imageWidth: 500,
          imageHeight: 800,
          link: {
            mobileWebUrl: TICKET_URL_28,
            webUrl: TICKET_URL_28
          }
        },
        buttons: [
          {
            title: '주민교회',
            link: {
              mobileWebUrl: TICKET_URL_27,
              webUrl: TICKET_URL_27
            }
          },
          {
            title: '김종태기념사업회',
            link: {
              mobileWebUrl: TICKET_URL_28,
              webUrl: TICKET_URL_28
            }
          }
        ]
      });
    } catch (e) {
      showError('기본 공유하기 실패: ' + e.message);
    }
  }
  
  // 템플릿 공유하기 함수
  function sendTemplateLink() {
    if (!initKakao()) return;
    
    try {
      Kakao.Share.sendCustom({
        templateId: TEMPLATE_ID,
        templateArgs: {
          'title': "윤석열 탄핵기원 주민교회 광화문 집회",
          'description': '3월29일 토요일 오후 4시/광화문 정문',
          'imageUrl': IMAGE_URL,
          'ticket_url_27': TICKET_URL_27,
          'ticket_url_28': TICKET_URL_28
        }
      });
    } catch (e) {
      showError('템플릿 공유하기 실패: ' + e.message);
    }
  }
</script>
</body>
</html>-->



<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
 <title>탄핵집회 By. Juminchurch</title>
<style>
  body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    padding: 20px;
  }
  .container {
    max-width: 600px;
    margin: 0 auto;
  }
  .title {
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
  }
  .kakao-buttons {
    display: flex;
    gap: 15px;
    margin-top: 15px;
  }
  .kakao-button {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    background-color: #FEE500;
    border-radius: 4px;
    padding: 8px 12px;
    border: none;
  }
  .talk-icon {
    width: 24px;
    height: 24px;
    margin-right: 8px;
  }
  .error-message {
    color: red;
    margin-top: 10px;
    display: none;
    font-size: 14px;
  }
  .preview-image {
    max-width: 250px;
    margin-top: 20px;
  }
</style>
</head>
<body>
<div class="container">
  <!-- 제목은 한 번만 표시 -->
  <div class="title">탄핵집회 By. jumin-church</div>
  
  <!-- 썸네일 미리보기 -->
  <img src="https://img1.daumcdn.net/thumb/R300x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbfMzCG%2FbtsM0qjcsjy%2FDz2EZ4Xkd5vNKfFPbFPq81%2Fimg.jpg" alt="jumin_tanhek">
 
  
  <!-- 카카오톡 버튼들 -->
  <div class="kakao-buttons">
    <button class="kakao-button" onclick="sendDefaultLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 공유" class="talk-icon">
      기본 공유하기
    </button>
    
    <button class="kakao-button" onclick="sendTemplateLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 템플릿 공유" class="talk-icon">
      템플릿 공유하기
    </button>
  </div>
  
  <!-- 오류 메시지 표시 영역 -->
  <div id="error-message" class="error-message"></div>
</div>

<!-- Kakao SDK를 body 끝부분에 로드 -->
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js" 
      integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4" 
      crossorigin="anonymous"></script>

<script type="text/javascript">
  // 티켓 URL 상수 정의
  const TICKET_URL_27 = 'http://www.jumin.org/home.htm';
  const TICKET_URL_28 = 'https://xn--4k0b511c91f.kr/33/?q=YToxOntzOjEyOiJrZXl3b3JkX3R5cGUiO3M6MzoiYWxsIjt9&bmode=view&idx=159813956&t=board';
  
  // 이미지 URL - 명시적으로 500x800 크기 지정
  const IMAGE_URL = 'https://img1.daumcdn.net/thumb/R500x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbfMzCG%2FbtsM0qjcsjy%2FDz2EZ4Xkd5vNKfFPbFPq81%2Fimg.jpg';
  
  // 템플릿 ID
  const TEMPLATE_ID = 118864;
  
  // 에러 표시 함수
  function showError(message) {
    const errorElement = document.getElementById('error-message');
    if (errorElement) {
      errorElement.innerText = message;
      errorElement.style.display = 'block';
    }
    console.error('에러:', message);
  }
  
  // Kakao SDK 초기화 함수
  function initKakao() {
    return new Promise((resolve, reject) => {
      // Kakao SDK 로드 확인
      if (typeof Kakao === 'undefined') {
        reject(new Error('Kakao SDK가 로드되지 않았습니다.'));
        return;
      }
      
      // 이미 초기화된 경우
      if (Kakao.isInitialized()) {
        resolve(true);
        return;
      }
      
      try {
        // SDK 초기화
        Kakao.init('b68d497748f94d3ed4e2a34ccf4bd43c');
        
        // 초기화 성공 확인
        if (Kakao.isInitialized()) {
          resolve(true);
        } else {
          reject(new Error('Kakao SDK 초기화에 실패했습니다.'));
        }
      } catch (e) {
        reject(new Error('Kakao SDK 초기화 중 오류 발생: ' + e.message));
      }
    });
  }
  
  // 기본 공유하기 함수
  async function sendDefaultLink() {
    try {
      await initKakao();
      
      Kakao.Share.sendDefault({
        objectType: 'feed',
        content: {
          'title': "윤석열 탄핵기원 주민교회 광화문 집회",
          'description': '3월29일 토요일 오후 4시/광화문 정문',
          imageUrl: IMAGE_URL,
          imageWidth: 500,
          imageHeight: 800,
          link: {
            mobileWebUrl: TICKET_URL_28,
            webUrl: TICKET_URL_28
          }
        },
        buttons: [
          {
            title: '주민교회',
            link: {
              mobileWebUrl: TICKET_URL_27,
              webUrl: TICKET_URL_27
            }
          },
          {
            title: '김종태기념사업회',
            link: {
              mobileWebUrl: TICKET_URL_28,
              webUrl: TICKET_URL_28
            }
          }
        ]
      });
    } catch (e) {
      showError('기본 공유하기 실패: ' + e.message);
    }
  }
  
  // 템플릿 공유하기 함수
  async function sendTemplateLink() {
    try {
      await initKakao();
      
      Kakao.Share.sendCustom({
        templateId: TEMPLATE_ID,
        templateArgs: {
          'title': "윤석열 탄핵기원 주민교회 광화문 집회",
          'description': '3월29일 토요일 오후 4시/광화문 정문',
          'imageUrl': IMAGE_URL,
          'ticket_url_27': TICKET_URL_27,
          'ticket_url_28': TICKET_URL_28
        }
      });
    } catch (e) {
      showError('템플릿 공유하기 실패: ' + e.message);
    }
  }

  // 페이지 로드 시 Kakao SDK 초기화
  window.addEventListener('load', () => {
    initKakao().catch(e => {
      showError(e.message);
    });
  });
</script>
</body>
</html>
